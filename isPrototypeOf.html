<script src="./simpletest.js"></script>
<script>

function isPrototypeOf(testPrototype, object) {
	//Base cases
	if (testPrototype === null || testPrototype === undefined) {
		throw new TypeError;
	}

	if (object === null || object === undefined) {
		return false;
	}

	var prototype = Object.getPrototypeOf(object);

	if(prototype === testPrototype) {
		return true;
	//Recursive case as long as there is a prototype
	} else {
		return isPrototypeOf(testPrototype, prototype);
	}
}

//Test variables
var canine = {
  bark: function() {
    console.log('bark');
  }
};

var dog = Object.create(canine);
dog.fetch = function() {
  console.log('fetch');
};

var myDog = Object.create(dog);
var empty = Object.create(null);

tests({

	'it should throw an error if the prototype is null or undefined': function() {
		var returnResult;
		try {
			isPrototypeOf(null, {});
		} catch (e) {
			returnResult = (e instanceof TypeError);
		}
		eq(returnResult, true);
	},

	'it should return false if the test object is null or undefined': function() {
		var returnResult = isPrototypeOf(dog, null);
		eq(returnResult, false);
	},

	'it should return true if the first argument is a prototype of the second argument': function() {
		var returnResult = isPrototypeOf(dog, myDog);
		eq(returnResult, true);
	},

	'it should return false if the first argument is not a prototype of the second argument': function() {
		var returnResult = isPrototypeOf(myDog, dog);
		eq(returnResult, false);
	},

	'it should return true as long as the first argument is in the prototype chain of the second argument': function() {
		var returnResult = isPrototypeOf(canine, myDog);
		eq(returnResult, true);
	},

});
</script>